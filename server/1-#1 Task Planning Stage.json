{"model": "text-davinci-003", "temperature": 0, "logit_bias": {"11265": 0.1, "26243": 0.1, "18053": 0.1, "4871": 0.1, "10378": 0.1, "12": 0.1, "3213": 0.1, "653": 0.1, "17": 0.1, "1298": 0.1, "15252": 0.1, "13716": 0.1, "15255": 0.1, "35353": 0.1, "29": 0.1, "414": 0.1, "4895": 0.1, "22046": 0.1, "5154": 0.1, "21282": 0.1, "3876": 0.1, "34086": 0.1, "934": 0.1, "45862": 0.1, "37800": 0.1, "41519": 0.1, "30001": 0.1, "1586": 0.1, "690": 0.1, "25652": 0.1, "1462": 0.1, "9654": 0.1, "312": 0.1, "7737": 0.1, "20662": 0.1, "4029": 0.1, "20158": 0.1, "1600": 0.1, "704": 0.1, "66": 0.1, "6978": 0.1, "325": 0.1, "70": 0.1, "1102": 0.1, "594": 0.1, "38610": 0.1, "8658": 0.1, "341": 0.1, "86": 0.1, "33490": 0.1, "16345": 0.1, "2649": 0.1, "220": 0.1, "864": 0.1, "11617": 0.1, "1634": 0.1, "9060": 0.1, "15588": 0.1, "35943": 0.1, "41464": 0.1, "366": 0.1, "22897": 0.1, "1137": 0.1, "24051": 0.1, "5239": 0.1, "504": 0.1, "3455": 0.1}, "prompt": "#1 Task Planning Stage: The AI assistant can parse user input to several tasks: [{\"task\": task, \"id\": task_id, \"dep\": dependency_task_id, \"args\": {\"text\": text or <GENERATED>-dep_id, \"image\": image_url or <GENERATED>-dep_id, \"audio\": audio_url or <GENERATED>-dep_id}}]. The special tag \"<GENERATED>-dep_id\" refer to the one generated text/image/audio in the dependency task (Please consider whether the dependency task generates resources of this type.) and \"dep_id\" must be in \"dep\" list. The \"dep\" field denotes the ids of the previous prerequisite tasks which generate a new resource that the current task relies on. The \"args\" field must in [\"text\", \"image\", \"audio\"], nothing else. The task MUST be selected from the following options: \"token-classification\", \"text2text-generation\", \"summarization\", \"translation\", \"question-answering\", \"conversational\", \"text-generation\", \"sentence-similarity\", \"tabular-classification\", \"object-detection\", \"image-classification\", \"image-to-image\", \"image-to-text\", \"text-to-image\", \"text-to-video\", \"visual-question-answering\", \"document-question-answering\", \"image-segmentation\", \"depth-estimation\", \"text-to-speech\", \"automatic-speech-recognition\", \"audio-to-audio\", \"audio-classification\", \"canny-control\", \"hed-control\", \"mlsd-control\", \"normal-control\", \"openpose-control\", \"canny-text-to-image\", \"depth-text-to-image\", \"hed-text-to-image\", \"mlsd-text-to-image\", \"normal-text-to-image\", \"openpose-text-to-image\", \"seg-text-to-image\". There may be multiple tasks of the same type. Think step by step about all the tasks needed to resolve the user's request. Parse out as few tasks as possible while ensuring that the user request can be resolved. Pay attention to the dependencies and order among tasks. If the user input can't be parsed, you need to reply empty JSON []. <im_start>user\nGive you some pictures e1.jpg, e2.png, e3.jpg, help me count the number of sheep?<im_end>\n<im_start>assistant\n[{\"task\": \"image-to-text\", \"id\": 0, \"dep\": [-1], \"args\": {\"image\": \"e1.jpg\" }}, {\"task\": \"object-detection\", \"id\": 1, \"dep\": [-1], \"args\": {\"image\": \"e1.jpg\" }}, {\"task\": \"visual-question-answering\", \"id\": 2, \"dep\": [1], \"args\": {\"image\": \"<GENERATED>-1\", \"text\": \"How many sheep in the picture\"}} }}, {\"task\": \"image-to-text\", \"id\": 3, \"dep\": [-1], \"args\": {\"image\": \"e2.png\" }}, {\"task\": \"object-detection\", \"id\": 4, \"dep\": [-1], \"args\": {\"image\": \"e2.png\" }}, {\"task\": \"visual-question-answering\", \"id\": 5, \"dep\": [4], \"args\": {\"image\": \"<GENERATED>-4\", \"text\": \"How many sheep in the picture\"}} }}, {\"task\": \"image-to-text\", \"id\": 6, \"dep\": [-1], \"args\": {\"image\": \"e3.jpg\" }},  {\"task\": \"object-detection\", \"id\": 7, \"dep\": [-1], \"args\": {\"image\": \"e3.jpg\" }}, {\"task\": \"visual-question-answering\", \"id\": 8, \"dep\": [7], \"args\": {\"image\": \"<GENERATED>-7\", \"text\": \"How many sheep in the picture\"}}]<im_end>\n<im_start>user\nLook at /e.jpg, can you tell me how many objects in the picture? Give me a picture and video similar to this one.<im_end>\n<im_start>assistant\n[{\"task\": \"image-to-text\", \"id\": 0, \"dep\": [-1], \"args\": {\"image\": \"/e.jpg\" }}, {\"task\": \"object-detection\", \"id\": 1, \"dep\": [-1], \"args\": {\"image\": \"/e.jpg\" }}, {\"task\": \"visual-question-answering\", \"id\": 2, \"dep\": [1], \"args\": {\"image\": \"<GENERATED>-1\", \"text\": \"how many objects in the picture?\" }}, {\"task\": \"text-to-image\", \"id\": 3, \"dep\": [0], \"args\": {\"text\": \"<GENERATED-0>\" }}, {\"task\": \"image-to-image\", \"id\": 4, \"dep\": [-1], \"args\": {\"image\": \"/e.jpg\" }}, {\"task\": \"text-to-video\", \"id\": 5, \"dep\": [0], \"args\": {\"text\": \"<GENERATED-0>\" }}]<im_end>\n<im_start>user\ngiven a document /images/e.jpeg, answer me what is the student amount? And describe the image with your voice<im_end>\n<im_start>assistant\n{\"task\": \"document-question-answering\", \"id\": 0, \"dep\": [-1], \"args\": {\"image\": \"/images/e.jpeg\", \"text\": \"what is the student amount?\" }}, {\"task\": \"visual-question-answering\", \"id\": 1, \"dep\": [-1], \"args\": {\"image\": \"/images/e.jpeg\", \"text\": \"what is the student amount?\" }}, {\"task\": \"image-to-text\", \"id\": 2, \"dep\": [-1], \"args\": {\"image\": \"/images/e.jpg\" }}, {\"task\": \"text-to-speech\", \"id\": 3, \"dep\": [2], \"args\": {\"text\": \"<GENERATED>-2\" }}]<im_end>\n<im_start>user\nGiven an image /example.jpg, first generate a hed image, then based on the hed image generate a new image where a girl is reading a book<im_end>\n<im_start>assistant\n[{\"task\": \"openpose-control\", \"id\": 0, \"dep\": [-1], \"args\": {\"image\": \"/example.jpg\" }},  {\"task\": \"openpose-text-to-image\", \"id\": 1, \"dep\": [0], \"args\": {\"text\": \"a girl is reading a book\", \"image\": \"<GENERATED>-0\" }}]<im_end>\n<im_start>user\nplease show me a video and an image of (based on the text) 'a boy is running' and dub it<im_end>\n<im_start>assistant\n[{\"task\": \"text-to-video\", \"id\": 0, \"dep\": [-1], \"args\": {\"text\": \"a boy is running\" }}, {\"task\": \"text-to-speech\", \"id\": 1, \"dep\": [-1], \"args\": {\"text\": \"a boy is running\" }}, {\"task\": \"text-to-image\", \"id\": 2, \"dep\": [-1], \"args\": {\"text\": \"a boy is running\" }}]<im_end>\n<im_start>user\nplease show me a joke and an image of cat<im_end>\n<im_start>assistant\n[{\"task\": \"conversational\", \"id\": 0, \"dep\": [-1], \"args\": {\"text\": \"please show me a joke of cat\" }}, {\"task\": \"text-to-image\", \"id\": 1, \"dep\": [-1], \"args\": {\"text\": \"a photo of cat\" }}]<im_end>\n<im_start>user\nThe chat log [ [] ] may contain the resources I mentioned. Now I input { tell me how many zebras in the picture of /examples/c.jpg }. Pay attention to the input and output types of tasks and the dependencies between tasks.<im_end>\n<im_start>assistant", "stop": ["<im_end>"], "max_tokens": 2178}